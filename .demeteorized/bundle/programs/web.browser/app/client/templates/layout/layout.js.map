{"version":3,"sources":["meteor://ðŸ’»app/client/templates/layout/layout.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/layout/layout.js","sourcesContent":["\"use strict\";\n/*global $ : false */\n/*global Hammer : false */\n/*global Meteor : false */\n/*global Session : false */\n/*global Template : false */\n\n\n\nMeteor.startup(function () {\n  // set up a swipe left / right handler\n  \n  new Hammer(document.body, {\n    swipe_velocity : 0.10 // px/ms\n  })\n  .on(\"swipeleft\", function(event) {\n    if($(event.target).parents(\".disable-swipe\").length>0 ||Â $(event.target).hasClass(\"disable-swipe\")){\n      return false;\n    }\n    Session.set(Meteor.MENU_KEY, false);\n  })\n  .on(\"swiperight\", function(event) {\n    if($(event.target).parents(\".disable-swipe\").length>0 ||Â $(event.target).hasClass(\"disable-swipe\")){\n      return false;\n    }\n    Session.set(Meteor.MENU_KEY, true);\n  })\n  .on(\"swipedown\", function() {\n    if(Session.get(Meteor.FILL_CONTEXT_MENU_KEY) && $(\".cbp-spmenu-push\").get(0).scrollTop === 0)\n        Session.set(Meteor.CONTEXT_MENU_KEY, true);\n  })\n  .on(\"swipeup\", function() {\n   if(Session.get(Meteor.FILL_CONTEXT_MENU_KEY))\n        Session.set(Meteor.CONTEXT_MENU_KEY, false);\n  });\n});\n\nTemplate.layout.helpers({\n  menuOpen: function() {\n    return Session.get(Meteor.MENU_KEY) ? function(){\n      Session.set(Meteor.CONTEXT_MENU_KEY, false);\n      return \"cbp-spmenu-open\";\n    }() : \"\";\n  },\n  contextMenuOpen: function() {\n    return Session.get(Meteor.CONTEXT_MENU_KEY) ? function(){\n      Session.set(Meteor.MENU_KEY, false);\n      $(\".cbp-spmenu-push\").one(\"scroll\", function(){\n        Session.set(Meteor.CONTEXT_MENU_KEY, false);\n      });\n      return \"cbp-spmenu-open\";\n    }() : \"\";\n  },\n  pushToRight : function(){\n    return Session.get(Meteor.MENU_KEY) ? \"cbp-spmenu-push-toright\" : \"\";\n  },\n  pushToBottom : function(){\n    return Session.get(Meteor.CONTEXT_MENU_KEY) ? \"cbp-spmenu-push-tobottom\" : \"\";\n  },\n  isMenuOpen : function(){\n    return Session.get(Meteor.MENU_KEY) ? \"active\" : \"\";\n  },\n  isContextMenuOpen : function(){\n    return Session.get(Meteor.CONTEXT_MENU_KEY) ? \"active\" : \"\";\n  },\n  isContextMenu : function(){\n    return Session.get(Meteor.FILL_CONTEXT_MENU_KEY);\n  },\n  title : function(){\n    return Session.get(Meteor.PAGE_TITLE) ||Â \"Gestion DU Travail : Atelier du Froid\";\n  }\n});\n\nTemplate.layout.events({\n  \"click .toggle-main-menu\": function() {\n    Session.set(Meteor.MENU_KEY, ! Session.get(Meteor.MENU_KEY));\n  },\n  \"click .toggle-context-menu\": function() {\n    Session.set(Meteor.CONTEXT_MENU_KEY, ! Session.get(Meteor.CONTEXT_MENU_KEY));\n  }\n});"]}