{"version":3,"sources":["meteor://ðŸ’»app/lib/routers/worker.js"],"names":[],"mappings":"wBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/lib/routers/worker.js","sourcesContent":["/* WORKER */\n\nRouter.route(\"/worker\", {\n\tcontroller : \"CleanController\",\n\tname: \"worker.index\",\n\taction : function () {\n\t\tSession.set(Meteor.PAGE_TITLE, \"List des travailleurs\");\n\t\tthis.render(\"workerindex\");\n\t\tif(Meteor.isBoss()){\n\t\t\tSession.set(Meteor.FILL_CONTEXT_MENU_KEY, true);\n\t\t\tthis.render(\"workeraction\", {to : \"action\"}); //contextmenu.action\n\t\t}\n\t},\n\tdata : function(){\n\t\treturn {\n\t\t\tworker_ids : Workers.find().fetch().map(function(worker){return worker._id;})\n\t\t};\n\t}\n});\n\n\n\nRouter.route(\"/worker/new\", {\n\tcontroller : \"ApplicationController\",\n\tname: \"user.new\",\n\tdata : function(){\n\t\treturn this.params;\n\t},\n\taction : function () {\n\t\tSession.set(Meteor.PAGE_TITLE, \"Nouveau travailleurs\");\n\t\tthis.render(\"workernew\");\n\t}\n});\n\n\n\nRouter.route(\"/worker/edit/:workerId\", {\n\tcontroller : \"CleanController\",\n\tname: \"user.edit\",\n\tdata : function(){\n\t\treturn Workers.findOne(this.params.workerId); \n\t},\n\taction : function () {\n\t\tvar data = this.data();\n\t\tif(data){\n\t\t\tSession.set(Meteor.PAGE_TITLE, \"Editer la fiche de : \"+s.capitalize(data.profile.firstname)+\" \"+s.capitalize(data.profile.lastname));\t\n\t\t}\n\t\tthis.render(\"workeredit\");\n\t}\t\n});\n\n\n\nRouter.route(\"/worker/:workerId\", {\n\tcontroller : \"CleanController\",\n\tname: \"worker.view\",\n\tdata : function(){\n\t\treturn Workers.findOne(this.params.workerId); \n\t},\n\taction : function () {\n\t\tvar data = this.data();\n\t\tif(data){\n\t\t\tSession.set(Meteor.PAGE_TITLE, s.capitalize(data.profile.firstname)+\" \"+s.capitalize(data.profile.lastname));\t\n\t\t}\n\t\tthis.render(\"workerview\");\n\t}\t\n});"]}