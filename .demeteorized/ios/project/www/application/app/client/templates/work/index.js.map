{"version":3,"sources":["meteor://ðŸ’»app/client/templates/work/index.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/work/index.js","sourcesContent":["\"use strict\";\n/*global Works : false */\n/*global Meteor : false */\n/*global Session : false */\n/*global Template : false */\n\n\nTemplate.workIndex.helpers({\n\tworks : function(){\n\t\treturn Session.equals(Meteor.LIST_CALENDAR_SWITCHER, true) ? this.works : Works.find();\n\t},\n\tlistView : function(){\n\t\treturn Session.equals(Meteor.LIST_CALENDAR_SWITCHER, true);\n\t},\n\tpager : function(){\n\t\tvar self = this;\n\t\tvar max = 3;\n\t\tvar result = [];\n\t\tvar getQuery = function(key){\n\t\t\tvar date = moment(self.works.date);\n\t\t\tif(key==1){\n\t\t\t\treturn {\n\t\t\t\t\tdate : moment([date.year(), date.month()]).subtract(1, \"month\").format(\"MMMYYYY\"),\n\t\t\t\t\tdata : \"date=\"+moment([date.year(), date.month()]).subtract(1, \"month\").format(\"YYYY-MM-01\")\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(key==max){\n\t\t\t\treturn {\n\t\t\t\t\tdate : moment([date.year(), date.month()]).add(1, \"month\").format(\"MMMYYYY\"),\n\t\t\t\t\tdata : \"date=\"+moment([date.year(), date.month()]).add(1, \"month\").format(\"YYYY-MM-01\")\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn {\n\t\t\t\t\tdate : moment().format(\"MMMYYYY\"),\n\t\t\t\t\tdata : \"date=\"+moment().format(\"YYYY-MM-01\")\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfor(var key = 1; key<=max ; key++){\n\t\t\tresult.push({\n\t\t\t\tfirst : key==1,\n\t\t\t\tlast : key==max,\n\t\t\t\tkey : key,\n\t\t\t\tquery : getQuery(key),\n\t\t\t\tshopId : self.shopId\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t},\n});\n\nTemplate.workIndex.events({\n\t\"click .listCalSwitcher\" : function(){\n\t\tSession.set(Meteor.LIST_CALENDAR_SWITCHER, !Session.get(Meteor.LIST_CALENDAR_SWITCHER));\n\t\treturn false;\n\t}\n});\n"]}