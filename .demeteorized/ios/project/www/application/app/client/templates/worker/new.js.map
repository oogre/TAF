{"version":3,"sources":["meteor://ðŸ’»app/client/templates/worker/new.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/worker/new.js","sourcesContent":[" \"use strict\";\n/*global $ : false */\n/*global Meteor : false */\n/*global Template : false */\n\nTemplate.workernew.events({\n\t\"click .createUser\" : function(event, template){\n\t\tvar savUser = template.find(\".createUser\");\n\t\tvar errors = template.find(\":not(.pwd) .has-error\");\n\t\t\n\t\tvar firstname = template.find(\"#firstname\");\n\t\tvar lastname = template.find(\"#lastname\");\n\t\tvar email = template.find(\"#emails\");\n\t\tvar role = $(\"#role\")[0];\n\t\tvar address_street = template.find(\"#address_street\");\n\t\tvar address_number = template.find(\"#address_number\");\n\t\tvar address_zipcode = template.find(\"#address_zipcode\");\n\t\tvar address_city = template.find(\"#address_city\");\n\t\tvar address_country = template.find(\"#address_country\");\n\t\tvar phone = template.find(\"#phone\");\n\n\t\t$(errors)\n\t\t.removeClass(\"has-error\");\n\n\t\tvar validation = function(element){\n\t\t\tif(!element.value){\n\t\t\t\t$(element)\n\t\t\t\t.parent()\n\t\t\t\t.addClass(\"has-error\");\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t\tif(\tvalidation(firstname) || validation(lastname) ||validation(address_street) || validation(address_number) || validation(address_zipcode) || validation(address_city) || validation(address_country) || validation(phone)){\n\t\t\treturn false;\n\t\t}\n\n\t\tMeteor.call(\"workerCreator\", {\n\t\t\temail : email.value.toLowerCase(),\n\t\t\tprofile : {\n\t\t\t\tfirstname : firstname.value.toLowerCase(),\n\t\t\t\tlastname : lastname.value.toLowerCase(),\n\t\t\t\trole : parseInt(role.value),\n\t\t\t\tphone : phone.value.toLowerCase(),\n\t\t\t\taddress : {\n\t\t\t\t\tstreet : address_street.value.toLowerCase(),\n\t\t\t\t\tnumber : address_number.value.toLowerCase(),\n\t\t\t\t\tzipcode : address_zipcode.value.toLowerCase(),\n\t\t\t\t\tcity : address_city.value.toLowerCase(),\n\t\t\t\t\tcountry : address_country.value.toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t}, function(error){\t\n\t\t\tif(error) return console.log(error);\n\t\t\t$(savUser)\n\t\t\t.removeClass(\"btn-primary\")\n\t\t\t.addClass(\"btn-success\");\n\t\t\tRouter.go(\"home\");\n\t\t});\n\n\t\treturn false;\n\t}\n});"]}