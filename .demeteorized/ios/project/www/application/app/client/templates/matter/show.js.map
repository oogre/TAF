{"version":3,"sources":["meteor://ðŸ’»app/client/templates/matter/show.js"],"names":[],"mappings":"YAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/matter/show.js","sourcesContent":["\n\n\nTemplate.mattershow.destroyed = function(){\n\tSession.set(Meteor.ORIGIN_REF, \"\");\n}\n\nTemplate.mattershow.helpers({\n\toriginList : function(){\n\t\tvar ref = Session.get(Meteor.ORIGIN_REF);\n\t\tif(ref){\n\t\t\treturn Origins.find({\n\t\t\t\tmatter : this.matter._id,\n\t\t\t\tref : {\n\t\t\t\t\t\t$regex : \".*\"+ref.toLowerCase().replace(/\\.|\\\\|\\+|\\*|\\?|\\[|\\^|\\]|\\$|\\(|\\)|\\{|\\}|\\=|\\!|\\>|\\||\\:|\\-/g, \"\")+\".*\"\n\t\t\t\t\t}\n\t\t\t}).fetch()\n\t\t}else{\n\t\t\treturn Origins.find({\n\t\t\t\tmatter : this.matter._id,\n\t\t\t}).fetch()\n\t\t}\n\t},\n\tdisable : function(){\n\t\treturn Session.equals(Meteor.ORIGIN_REF, \"\") ? \"disabled\" : \"\";\n\t}\n});\nTemplate.mattershow.events({\n\t\"keyup input#ref\" : function(event){\n\t\tvar ref = $(event.target).val().trim();\n\t\tSession.set(Meteor.ORIGIN_REF, ref);\n\t},\n\t\"click .add\" : function(event){\n\t\tvar ref = $(\"input#ref\").val().trim();\n\t\tif(!ref)return false;\n\t\tMeteor.call(\"addOriginToMatter\", this.matter._id, ref);\n\t\treturn false;\n\t},\n\t\"click .barcode\" : function(event){\n\t\tif(Meteor.isCordova){\n\t\t\tcordova.plugins.barcodeScanner.scan(\n\t\t\t\tfunction (result) {\n\t\t\t\t\t$(\"input#ref\").val(result.text);\n\t\t\t\t\tSession.set(Meteor.ORIGIN_REF, result.text);\n\t\t\t\t}, \n\t\t\t\tfunction (error) {\n\t\t\t\t\talert(\"Scanning failed: \" + error);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n});"]}