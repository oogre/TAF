{"version":3,"sources":["meteor://ðŸ’»app/client/templates/work/summary.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/client/templates/work/summary.js","sourcesContent":["\"use strict\";\n/*global Meteor : false */\n/*global moment : false */\n/*global Session : false */\n/*global Template : false */\n\nTemplate.workSummary.destroyed = function(){\n\tSession.set(Meteor.SIGNATURE_NAMED, 0);\n\tSession.set(Meteor.SIGNATURE_OPEN, false);\n};\n\nTemplate.workSummary.helpers({\n\tshowTasks : function(){\n\t\tif(this && this.type === \"maintenance\" && this.modules) return true;\n\t},\n\tshowMatters : function(){\n\t\tif(this && this.type !== \"installation\") return true;\n\t},\n\trdv : function(){\n\t\treturn moment(this.rdv).format(\"dd-DD/MM/YY\");\n\t},\n\tend : function(){\n\t\treturn moment(this.end).format(\"dd-DD/MM/YY\");\n\t},\n\tpopupedSig : function(name){\n\t\treturn Session.equals(Meteor.SIGNATURE_OPEN, name);\n\t},\n\tsaved : function(name){\n\t\tif(this && this.signatures && this.signatures[name.toLowerCase()]){\n\t\t\tvar image = this.signatures[name.toLowerCase()];\n\t\t\tif(_.isString(image)) return image;\n\t\t\tif(image.path) return Meteor.pictureServer+\"/\"+image.path;\n\t\t}\n\t\treturn false;\n\t},\n\tdisable : function(name){\n\t\tif(name == \"Client\"){\n\t\t\treturn Session.get(Meteor.SIGNATURE_NAMED) & 1 ? \"\" : \"disabled\";\n\t\t}else{\n\t\t\treturn Session.get(Meteor.SIGNATURE_NAMED) & 2 ? \"\" : \"disabled\";\n\t\t}\n\n\t}\n});\n\nTemplate.workSummary.events({\n\t\"click .workerAdd\" : function(){\n\t\tSession.set(Meteor.ADD_WORKER, !Session.get(Meteor.ADD_WORKER));\n\t\treturn false;\n\t},\n\t\"click button.sign\" : function(event){\n\t\tSession.set(Meteor.SIGNATURE_OPEN, $(event.target).hasClass(\"Client\") ? \"Client\" : \"ADF\");\n\t\treturn false;\n\t},\n\t\"keyup #client_name\" : function(event){\n\t\tvar v = Session.get(Meteor.SIGNATURE_NAMED);\n\t\tif($(event.target).val().trim()){\n\t\t\tv |= 1;\n\t\t}else{\n\t\t\tv &= 2;\n\t\t}\n\t\tconsole.log(v);\n\t\tSession.set(Meteor.SIGNATURE_NAMED, v);\n\t},\n\t\"keyup #adf_name\" : function(event){\n\t\tvar v = Session.get(Meteor.SIGNATURE_NAMED);\n\t\tif($(event.target).val().trim()){\n\t\t\tv |= 2;\n\t\t}else{\n\t\t\tv &= 1;\n\t\t}\n\t\tconsole.log(v);\n\t\tSession.set(Meteor.SIGNATURE_NAMED, v);\n\t}\n});"]}