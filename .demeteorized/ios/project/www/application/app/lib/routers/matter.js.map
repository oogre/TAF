{"version":3,"sources":["meteor://üíªapp/lib/routers/matter.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/lib/routers/matter.js","sourcesContent":["/* MATTERS */\n\nRouter.route(\"/matter/new\", {\n\tcontroller : \"ApplicationController\",\n\tname: \"matter.new\",\n\taction : function () {\n\t\tSession.set(Meteor.PAGE_TITLE, \"Nouveau Mat√©riel\");\n\t\tthis.render(\"matternew\");\n\t}\n});\n\n\n\nRouter.route(\"/matter/edit/:matterId\", {\n\tcontroller : \"ApplicationController\",\n\tname: \"matter.edit\",\n\tdata : function(){\n\t\treturn Matters.findOne(this.params.matterId);\n\t},\n\taction : function () {\n\t\tvar data = this.data();\n\t\tif(data){\n\t\t\tSession.set(Meteor.PAGE_TITLE, \"Edition du mat√©riel : \"+s.capitalize(data.name));\n\t\t}\n\t\tthis.render(\"matteredit\");\n\t}\n});\nRouter.route(\"/matter/:matterId\", {\n\tcontroller : \"ApplicationController\",\n\tname: \"matter.show\",\n\tdata : function(){\n\t\treturn {\n\t\t\tmatter : Matters.findOne(this.params.matterId),\n\t\t};\n\t},\n\taction : function () {\n\t\tvar data = this.data();\n\t\tif(data){\n\t\t\tSession.set(Meteor.PAGE_TITLE, \"D√©tail du mat√©riel : \"+s.capitalize(data.matter.name));\n\t\t}\n\t\tthis.render(\"mattershow\");\n\t}\n});\n\n\n\nRouter.route(\"/matter\", {\n\tcontroller : \"CleanController\",\n\tname: \"matter.index\",\n\tdata : function(){\n\t\treturn {\n\t\t\tmatters : Matters\n\t\t\t\t\t\t.find({\n\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\tsort : {\n\t\t\t\t\t\t\t\tname : 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).fetch()\n\t\t};\n\t},\n\taction : function () {\n\t\tSession.set(Meteor.PAGE_TITLE, \"Liste des Mat√©riels\");\n\t\tthis.render(\"matterindex\");\n\t\tif(Meteor.isBoss()){\n\t\t\tSession.set(Meteor.FILL_CONTEXT_MENU_KEY, true);\n\t\t\tthis.render(\"matteraction\", {to : \"action\"}); //contextmenu.action\n\t\t}\n\t}\n});"]}