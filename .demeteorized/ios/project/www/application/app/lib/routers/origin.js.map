{"version":3,"sources":["meteor://ðŸ’»app/lib/routers/origin.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G","file":"/lib/routers/origin.js","sourcesContent":["Router.route(\"/origin/:originId\", {\n\tcontroller : \"ApplicationController\",\n\tname: \"origin.show\",\n\tdata : function(){\n\n\t\tvar origin = Origins.findOne(this.params.originId);\n\t\tvar movesFrom = Moves.find({\n\t\t\t\t\t\t\toriginId : this.params.originId\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\tsort : {\n\t\t\t\t\t\t\t\tdateTime : -1\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fetch();\n\t\tvar movesTo = \tMoves.find({\n\t\t\t\t\t\t\tdestinyId : this.params.originId\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\tsort : {\n\t\t\t\t\t\t\t\tdateTime : -1\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fetch();\n\t\tvar matter = Matters.findOne(origin.matter);\n\t\tmovesFrom = movesFrom.map(function(item){\n\t\t\titem.unit = matter.unit;\n\t\t\treturn item;\n\t\t});\n\t\tmovesTo = movesTo.map(function(item){\n\t\t\titem.unit = matter.unit;\n\t\t\treturn item;\n\t\t});\n\t\treturn {\n\t\t\torigin : origin\t,\n\t\t\tmovesFrom : movesFrom,\n\t\t\tmovesTo : \tmovesTo,\n\t\t\tmatter : matter\n\t\t}\n\t},\n\taction : function () {\n\t\tvar data = this.data();\n\t\tif(data){\n\t\t\tSession.set(Meteor.PAGE_TITLE, \"DÃ©tail du conteneur : \"+s.capitalize(data.origin.ref));\n\t\t}\n\t\tthis.render(\"originshow\");\n\t}\n});"]}